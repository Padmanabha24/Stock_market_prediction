<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stock Prediction</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <h1>Stock market Prediction TModel</h1>
    <div class="container">
        <div class="form-section">
        <h1>Enter Data</h1>
        
        <form method="post">
            <label for="ticker">Ticker Symbol:</label>
            <input type="text" id="ticker" name="ticker" placeholder="e.g., AAPL" required>

            <label for="interval">Select Interval:</label>
            <select id="interval" name="interval" required>
                <option value="1d">Daily</option>
                <option value="1wk">Weekly</option>
                <option value="1mo">Monthly</option>
            </select>

            <label for="start_date">Start Date (YYYY-MM-DD):</label>
            <input type="date" id="start_date" name="start_date">

            <label for="end_date">End Date (YYYY-MM-DD):</label>
            <input type="date" id="end_date" name="end_date">

            <label for="graph_style">Select Graph Style:</label>
            <select id="graph_style" name="graph_style" required>
                <option value="line">Line</option>
                <option value="bar">Bar</option>
                <option value="step">Step</option>
                <option value="scatter">Scatter</option>
            </select>

            <button type="submit">Predict</button>
        </form>
        </div>
   
        <div class="result-section">
        {% if result %}
            <h2>Results for {{ result.ticker }}</h2>
            {% if result.status == "success" %}
                <p><strong>Precision:</strong> {{ result.precision }}</p>
                <p><strong>Prediction Distribution:</strong> {{ result.prediction_distribution }}</p>
                <p><strong>Target Distribution:</strong> {{ result.target_distribution }}</p>

                <h3>Actual Target</h3>
                <img src="data:image/png;base64,{{ result.image_actual }}" alt="Actual Graph">

                <h3>Predicted Target</h3>
                <img src="data:image/png;base64,{{ result.image_predicted }}" alt="Predicted Graph">

                <h3>Target Distribution Pie Chart</h3>
                <img src="data:image/png;base64,{{ result.image_target_pie }}" alt="Target Pie Chart">

                <h3>Prediction Distribution Pie Chart</h3>
                <img src="data:image/png;base64,{{ result.image_prediction_pie }}" alt="Prediction Pie Chart">

            {% else %}
                <p class="error">Error: {{ result.message }}</p>
            {% endif %}
        {% endif %}
    </div>
    </div>
</body>
</html>
